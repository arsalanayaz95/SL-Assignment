{"ast":null,"code":"import { v4 as uuidv4 } from \"uuid\";\nimport { typeOfStatus } from \"../constant/status\";\nexport function updateTaskById(id, data, property, value) {\n  if (data.id === id) {\n    data[property] = value;\n    data[\"key\"] = uuidv4();\n  }\n\n  if (data.children !== null && data.children.length > 0) {\n    for (let i = 0; i < data.children.length; i++) {\n      data.children[i] = updateTaskById(id, data.children[i], property, value);\n    }\n  }\n\n  return data;\n}\nexport function setDependencies(data) {\n  if (data.children !== null) {\n    data[\"total_dependencies\"] = data.children.length;\n    data[\"dependencies_done\"] = data.children.filter(child => child.status === typeOfStatus.DONE).length;\n    data[\"dependencies_complete\"] = data.children.filter(child => child.status === typeOfStatus.COMPLETE).length;\n\n    for (let i = 0; i < data.children.length; i++) {\n      data.children[i] = setDependencies(data.children[i]);\n    }\n  }\n\n  return data;\n}\nexport function updateParent(parentId, data, status) {\n  if (data.id === parentId && data.status === typeOfStatus.DONE) {\n    const children = data.children.length;\n    const completed = data.children.filter(child => child.status === typeOfStatus.COMPLETE).length;\n\n    if (children === completed) {\n      data[\"status\"] = typeOfStatus.COMPLETE;\n      data[\"key\"] = uuidv4();\n    }\n  } else if (data.id === parentId && data.status === typeOfStatus.COMPLETE && status === typeOfStatus.DONE) {\n    data[\"status\"] = typeOfStatus.DONE;\n    data[\"key\"] = uuidv4();\n  }\n\n  if (data.children !== null && data.children.length > 0) {\n    for (let i = 0; i < data.children.length; i++) {\n      data.children[i] = updateParent(parentId, data.children[i]);\n    }\n  }\n\n  return data;\n}\nexport function addChildToTask(parentId, data, task) {\n  if (data.id === parentId) {\n    if (data.children === null) {\n      data.children = [task];\n      data[\"key\"] = uuidv4();\n    } else {\n      data.children.push(task);\n    }\n  }\n\n  if (data.children !== null && data.children.length > 0) {\n    for (let i = 0; i < data.children.length; i++) {\n      data.children[i] = addChildToTask(parentId, data.children[i], task);\n    }\n  }\n\n  return data;\n}\nexport function getCurrentStatus(element, matchingId) {\n  if (element.id === matchingId) {\n    return element.status;\n  } else if (element.children !== null) {\n    let result = null;\n\n    for (let i = 0; result === null && i < element.children.length; i++) {\n      result = getCurrentStatus(element.children[i], matchingId);\n    }\n\n    return result;\n  }\n\n  return null;\n}","map":{"version":3,"names":["v4","uuidv4","typeOfStatus","updateTaskById","id","data","property","value","children","length","i","setDependencies","filter","child","status","DONE","COMPLETE","updateParent","parentId","completed","addChildToTask","task","push","getCurrentStatus","element","matchingId","result"],"sources":["/Users/aayaz/Desktop/Code/streamline/client/src/utils/helpers.js"],"sourcesContent":["import { v4 as uuidv4 } from \"uuid\";\nimport { typeOfStatus } from \"../constant/status\";\n\nexport function updateTaskById(id, data, property, value) {\n  if (data.id === id) {\n    data[property] = value;\n    data[\"key\"] = uuidv4();\n  }\n  if (data.children !== null && data.children.length > 0) {\n    for (let i = 0; i < data.children.length; i++) {\n      data.children[i] = updateTaskById(id, data.children[i], property, value);\n    }\n  }\n  return data;\n}\n\nexport function setDependencies(data) {\n  if (data.children !== null) {\n    data[\"total_dependencies\"] = data.children.length;\n    data[\"dependencies_done\"] = data.children.filter(\n      (child) => child.status === typeOfStatus.DONE\n    ).length;\n    data[\"dependencies_complete\"] = data.children.filter(\n      (child) => child.status === typeOfStatus.COMPLETE\n    ).length;\n\n    for (let i = 0; i < data.children.length; i++) {\n      data.children[i] = setDependencies(data.children[i]);\n    }\n  }\n  return data;\n}\n\nexport function updateParent(parentId, data, status) {\n  if (data.id === parentId && data.status === typeOfStatus.DONE) {\n    const children = data.children.length;\n    const completed = data.children.filter(\n      (child) => child.status === typeOfStatus.COMPLETE\n    ).length;\n    if (children === completed) {\n      data[\"status\"] = typeOfStatus.COMPLETE;\n      data[\"key\"] = uuidv4();\n    }\n  } else if (\n    data.id === parentId &&\n    data.status === typeOfStatus.COMPLETE &&\n    status === typeOfStatus.DONE\n  ) {\n    data[\"status\"] = typeOfStatus.DONE;\n    data[\"key\"] = uuidv4();\n  }\n  if (data.children !== null && data.children.length > 0) {\n    for (let i = 0; i < data.children.length; i++) {\n      data.children[i] = updateParent(parentId, data.children[i]);\n    }\n  }\n  return data;\n}\n\nexport function addChildToTask(parentId, data, task) {\n  if (data.id === parentId) {\n    if (data.children === null) {\n      data.children = [task];\n      data[\"key\"] = uuidv4();\n    } else {\n      data.children.push(task);\n    }\n  }\n  if (data.children !== null && data.children.length > 0) {\n    for (let i = 0; i < data.children.length; i++) {\n      data.children[i] = addChildToTask(parentId, data.children[i], task);\n    }\n  }\n  return data;\n}\n\nexport function getCurrentStatus(element, matchingId) {\n  if (element.id === matchingId) {\n    return element.status;\n  } else if (element.children !== null) {\n    let result = null;\n    for (let i = 0; result === null && i < element.children.length; i++) {\n      result = getCurrentStatus(element.children[i], matchingId);\n    }\n    return result;\n  }\n  return null;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}